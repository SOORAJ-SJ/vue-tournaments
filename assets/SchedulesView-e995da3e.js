import{d as b,_ as w,o as s,c as n,a as e,i as v,t as _,F as S,g as r,j as x,u as c,r as y,f as g,w as p,h as k,k as $,s as L,e as C,l as D}from"./index-3d8c5d08.js";import{S as i,g as N,a as A,f as z,L as E}from"./Loader-f8fdc123.js";const I=b("schedules",{state:()=>({error:null,schedules:null,status:i.PENDING}),getters:{getSchedules:t=>t.schedules.values,getSheduleStatus:t=>t.status},actions:{async fetchSchedules(){try{this.status=i.LOADING;const t=await N("A:D");this.status=i.SUCCESS,this.schedules=t.data}catch(t){this.status=i.ERROR,this.error=t.response.data.error}}}});const M={class:"d-flex justify-content-center align-items-center position-relative schedule-wrapper"},R={class:"p-2 w-50 text-end"},B={class:"flex-shrink-1 mx-2 border p-2"},T={class:"p-2 w-50 text-start"},G={class:"schedule text-center"},V={__name:"Schedule",props:["schedule"],setup(t){return(a,o)=>(s(),n(S,null,[e("div",M,[e("div",R,[v(a.$slots,"player1",{},()=>[r("Player 1")],!0)]),e("div",B,[v(a.$slots,"time",{},void 0,!0)]),e("div",T,[v(a.$slots,"player2",{},()=>[r("Player 1")],!0)])]),e("div",G,_(t.schedule),1)],64))}},O=w(V,[["__scopeId","data-v-043fccf3"]]);const P={class:"card mt-2 shadow-sm p-2"},j={class:"card-body"},F={class:"card-title schedule-date"},H={__name:"Schedules",props:["date","matches"],setup(t){const a=t,o=x(()=>{let u=A(a.date);return u==0||u==1?z(u):a.date});return(u,m)=>(s(),n("div",P,[e("div",j,[e("h5",F,_(c(o)),1),(s(!0),n(S,null,y(t.matches,(d,l)=>(s(),g(O,{key:l},{player1:p(()=>[r(_(d[0]),1)]),time:p(()=>[r(_(d[2]),1)]),player2:p(()=>[r(_(d[1]),1)]),_:2},1024))),128))])]))}},U=w(H,[["__scopeId","data-v-a6e6b336"]]),q="/vue-tournaments/assets/9233841_4120164-f659fb08.jpg";const J={},K={id:"fallback-wrapper"},Q={class:"container p-4 text-center"},W=e("img",{src:q,alt:"this page is under development"},null,-1);function X(t,a){const o=$("router-link");return s(),n("div",K,[e("div",Q,[W,e("div",null,[k(o,{to:"/"},{default:p(()=>[r("<<Go Back")]),_:1})])])])}const Y=w(J,[["render",X]]),Z=e("div",null,[r(" Oops!!! Something went wrong while getting the schedules "),e("p",{class:"lead mb-0"},[r(" Tap to retry "),e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-clockwise",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),e("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"})])])],-1),ee=[Z],te=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[e("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),e("path",{"fill-rule":"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})],-1),se={key:0,class:"row"},ae={class:"col col-md-6 col-lg-4"},le={key:1},ce=e("div",{class:"alert alert-warning h4 mt-4 mb-2",role:"alert"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-exclamation-triangle",viewBox:"0 0 16 16"},[e("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}),e("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"})]),r(" Looks like there are no matches scheduled for now! ")],-1),oe=[ce],de={__name:"SchedulesView",setup(t){const a=I(),{getSheduleStatus:o,getSchedules:u}=L(a),m=x(()=>{let d=[];if(o.value===i.SUCCESS)for(let l of u.value.slice(1)){const h=d.findIndex(f=>f.date==l[0]);h>=0?d[h].matches.push(l.slice(1)):d.push({date:l[0],matches:[l.slice(1)]})}return d});return C(async()=>{o.value==i.PENDING&&await a.fetchSchedules()}),(d,l)=>(s(),n("main",null,[k(Y),c(o)===c(i).LOADING||c(o)===c(i).PENDING?(s(),g(E,{key:0})):c(o)===c(i).ERROR?(s(),n("div",{key:1,onClick:l[0]||(l[0]=h=>c(a).fetchSchedules()),class:"alert alert-danger d-flex align-items-center h5 mt-4 mb-2",role:"alert"},ee)):D("",!0),e("div",null,[e("div",null,[e("div",{class:"alert alert-secondary h2 mt-4 mb-2 d-flex align-items-center justify-content-between",role:"alert",onClick:l[1]||(l[1]=h=>c(a).fetchSchedules())},[r(" Schedules "),te]),c(m).length?(s(),n("div",se,[(s(!0),n(S,null,y(c(m),(h,f)=>(s(),n("div",ae,[(s(),g(U,{date:h.date,matches:h.matches,key:f},null,8,["date","matches"]))]))),256))])):(s(),n("div",le,oe))])])]))}};export{de as default};
